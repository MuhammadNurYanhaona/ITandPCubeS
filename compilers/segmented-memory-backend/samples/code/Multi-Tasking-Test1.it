Program (args) {
	length = args.length
	m = args.m
	p = args.p
        firstEnv = new TaskEnvironment(name: "First Task")
        execute("First Task"; firstEnv; Initialize: length; Partition: m)
        secondEnv = new TaskEnvironment(name: "Second Task")
        secondEnv.a = firstEnv.a
        execute("Second Task"; secondEnv; Partition: p)
	bind_output(secondEnv, "a", args.output_file)
}

Task "First Task":
	Define:
		a: 1D Array of Integer
	Environment:
		a: create
	Initialize(length):
		a.dimension.range.min = 0
		a.dimension.range.max = length - 1
	Compute:
		"Assign Index Values" (Space A) {
			do { a[i] = i } for i in a
		}
	Partition(b):
		Space A <1D> { a: block_stride(b) } 

Task "Second Task":
	Define:
		a: 1D Array of Integer
	Environment:
		a: link
	Compute:
		"Square Values" (Space A) {
			do { a[i] = a[i] * a[i] } for i in a
		}
	Partition(b):
		Space A <1D> { a: block_size(b) } 
